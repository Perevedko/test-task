Вариант решения:
1. Сначала отфильтровать выбросы. Нужно рассчитать скорость между последовательными точками. Если скорость превышает физически возможную для электровелосипеда (например, больше 40 км/ч), то такая точка считается выбросом и удаляется. Пропущенные точки можно восстановить линейной интерполяцией.
2. Далее, для сглаживания координат, можно использовать адаптивный фильтр Калмана. В нём можно исползовать погрешность GPS (50 метров) в качестве шума измерения.
3. Для обнаружения парковок можно группировать последовательные точки с маленькой скоростю (< 3 км/ч) и к ним применить DBSCAN кластеризацию с параметрами погрешность=50м, минимум=3 точки за 1 минуту. Далее, заменить точки кластера на медианные координаты.
4. Для сглаживания траектории, можно применить скользящее окно с медианным фильтром. Для точек вне зон остановок применить окно размером 3-5 точек (60-100 сек). Заменить каждую точку на медиану в окне для подавления шума. Далее, построить гладкую кривую через обработанные точки (например, кубическими сплайнами).
5. Для удаления избыточных точек можно применить алгоритм Рамера-Дугласа.
